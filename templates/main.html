<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <!-- style -->
<!--  <link rel="stylesheet" href=".\css\style.css">-->
<!--  <link rel="stylesheet" href=".\css\reset.css">-->
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" />
  <link href="{{ url_for('static', filename='css/reset.css') }}" rel="stylesheet" />
</head>


<script src="../static/js/extract.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script src="http://d3js.org/d3.v5.min.js"></script>


<body>
  <div>
    <div id="header">
      <img src="../static/알티스트 로고.png" alt="로고" id="logo" onclick="logoclick()">
    </div>
    <div id="content">
      <div id="cont_left">
      </div>

      <div id="cont_center">

        <form action="/show/" method="post" id="datenode">
          <div id="nodes">
            <p id="nodeletter">
              <b>nodelist</b>
            </p>
            <p><input type="date" name="date"></p>
            <div id="shownodes">
              {% for list in nodelist%}
              <div class="nodeframe">
                <input type="checkbox" name="nodeid" value={{list.nodeId}}>
                <p class="node" id="{{list.no}}"><a href="/{{list.no}}/" target="_self">{{list.nodeId}}</a></p>
                <br><br>
                {% endfor %}
              </div>
            </div>
          </div>
        </form>
          <div id="showbutton">
            <button type="submit" id="showchart" form="datenode">show chart</button>
          </div>



          <div id="chart">
            <div id="chartletter">
              <b>chart</b>
            </div>
            <div id="showmychart">
            </div>
            <script type="text/javascript">
              console.time('line');
              Highcharts.chart('showmychart', {

                chart: {
                  zoomType: 'x',
                  backgroundColor: 'white',
                  type: 'line'
                },

                title: {
                  text: 'PTP: Synchronization time graph',
                  align: 'center'
                },

                subtitle: {
                  text: 'offset graph'
                },

                accessibility: {
                  screenReaderSection: {
                    // beforeChartFormat: '<{headingTagName}>{chartTitle}</{headingTagName}><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div>'
                  }
                },

                tooltip: {
                  valueDecimals: 0
                },

                // legend: {
                //   layout: 'vertical',
                //   align: '',
                //   verticalAlign: 'middle'
                // },

                xAxis: {
                  type: 'datetime'
                },

                yAxis: {
                  title: {
                    text: 'Offset From Master'
                  },
                  tickAmount: 14,
                  labels: {
                    format: '{value} ns'
                  },
                },

                plotOptions: {
                  series: {
                    label: {
                      connectorAllowed: false
                    },
                    pointStart: 1
                  }
                },

                series: [{
                  data: {{offset}},
                  lineWidth: 1,
                  name: 'node{{id}}'
                }]

              });
              console.timeEnd('line');


            </script>
          </div>

        </div>

      </div>
    </div>
  </div>

</body>

</html>
